ğŸ§© Problem 20: Set Baud Rate Field in Control Register

### ğŸ“ Problem Statement

You are working with a **32-bit UART control register**, where the **baud rate** is controlled by **4 specific bits located at position 8** (i.e., **bits 8 to 11**).

Write a **C program** to **set the baud rate** in the control register using a new 4-bit value, while **preserving all other bits** in the register.

The program should:

* Take two inputs:

  * `reg` â†’ a 32-bit unsigned integer representing the current control register
  * `baud` â†’ a 4-bit value (0â€“15) representing the desired baud rate
* Replace **bits 8 to 11** in the register with `baud`
* Print the **updated register** value

---

### âœ… Examples

#### Example 1

```
Input:
reg = 0b00000000 00000000 00000000 00000000
baud = 0b1010

Output:
0b00000000 00000000 00001010 00000000
```

**Explanation**:

```
Bits 8â€“11 are updated to 0b1010 (decimal 10), others remain 0.
```

---

#### Example 2

```
Input:
reg = 0b11111111 11111111 11111111 11111111
baud = 0b0000

Output:
0b11111111 11111111 11110000 11111111
```

**Explanation**:

```
Bits 8â€“11 are cleared (set to 0), all others stay 1.
```

---

### ğŸ’¡ Hint

To replace a bit field:

1. **Create a mask** for the 4-bit baud field:

   ```c
   ((1U << 4) - 1) << 8
   ```

2. **Clear** bits 8â€“11 in the register:

   ```c
   reg & ~mask
   ```

3. **Shift** the baud value into position:

   ```c
   baud << 8
   ```

4. **Combine** both using bitwise OR:

   ```c
   (reg & ~((1U << 4) - 1) << 8) | (baud << 8)
   ```

---

### ğŸ’» Solution (C)

```c
#include <stdio.h>
#include <stdint.h>

uint32_t set_baud_rate(uint32_t reg, uint8_t baud) {
    return (reg & ~(((1U << 4)-1)<<8)) | (baud << 8) ;
}

int main() {
    uint32_t reg;
    uint8_t baud;
    scanf("%u %hhu", &reg, &baud);
    printf("%u", set_baud_rate(reg, baud));
    return 0;
}
```